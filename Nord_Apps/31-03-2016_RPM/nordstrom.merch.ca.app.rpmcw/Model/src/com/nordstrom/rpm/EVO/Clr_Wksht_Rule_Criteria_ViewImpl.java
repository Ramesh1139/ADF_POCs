package com.nordstrom.rpm.EVO;

import com.nordstrom.rpm.EVO.common.Clr_Wksht_Rule_Criteria_View;

import oracle.jbo.Row;
import oracle.jbo.RowSetIterator;
import oracle.jbo.ViewObject;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Tue Dec 29 18:47:04 IST 2015
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class Clr_Wksht_Rule_Criteria_ViewImpl extends ViewObjectImpl implements Clr_Wksht_Rule_Criteria_View {
    /**
     * This is the default constructor (do not remove).
     */
    public Clr_Wksht_Rule_Criteria_ViewImpl() {
    }
    public void revertChangesCurrentRow(Row curRow) {
        if (curRow != null) {
            curRow.refresh(Row.REFRESH_UNDO_CHANGES | Row.REFRESH_WITH_DB_FORGET_CHANGES);
        }
    }

    
    public void rollbackorrevertRowChanges() {
        ViewObject deptVo = this;
        RowSetIterator deptIter = deptVo.createRowSetIterator(null);
        while (deptIter.hasNext())
        {
            Row nextRow = deptIter.next();
            if (nextRow.getAttribute("RowStatus") != null) 
            {
                Integer rowStatus = (Integer) nextRow.getAttribute("RowStatus");
                if (rowStatus == 2)
                {
                   
                    revertChangesCurrentRow(nextRow);
                } 
                else if (rowStatus == 0) 
                {
                    
                    nextRow.remove();
                }
            }
        }
      this.executeQuery();
    }

}
