package xts.salinv.model.views;

import java.sql.Types;

import oracle.jbo.JboException;

import xts.common.model.framework.GenericEntityImpl;
import xts.common.model.framework.GenericViewObjectImpl;
import xts.common.model.framework.db.PLSQLCall;

import xts.salinv.model.views.common.TciPrtVO;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu Sep 15 13:31:14 CST 2016
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class TciPrtVOImpl extends GenericViewObjectImpl implements TciPrtVO {
    /**
     * This is the default constructor (do not remove).
     */
    public TciPrtVOImpl() {
    }

    public void autoQtyctn() {
        TciPrtVORowImpl row = (TciPrtVORowImpl) this.getCurrentRow();
        PLSQLCall dc = new PLSQLCall("? := DP_SI.F_GET_TOTQTYCTN", this.getDBTransaction());
        dc.addRet("ret", Types.VARCHAR);
        dc.addIn(row.getCiptDivcod());
        dc.addIn(row.getCiptRunnum());
        dc.execute();
        Object ret = dc.getObj("ret");

        row.setCiptTotqtyctn((String) ret);
    }

    public void setCiptAdr() {
        TciPrtVORowImpl row = (TciPrtVORowImpl) this.getCurrentRow();

        try {
            PLSQLCall dc = new PLSQLCall("DP_SI.PL_GET_CIPT_ADR", this.getDBTransaction());
            dc.addIn(row.getTciMstVO().getCimsDivcod());
            dc.addIn(row.getTciMstVO().getCimsCuscod());
            dc.addIn(row.getCpcsCuscod());
            dc.addIn(row.getCpcsCsgcod());
            dc.addOut("adr1", Types.VARCHAR);
            dc.addOut("adr2", Types.VARCHAR);
            dc.addOut("adr3", Types.VARCHAR);
            dc.addOut("adr4", Types.VARCHAR);
            dc.execute();
            String adr1 = (String) dc.getObj("adr1");
            String adr2 = (String) dc.getObj("adr2");
            String adr3 = (String) dc.getObj("adr3");
            String adr4 = (String) dc.getObj("adr4");

            row.setCiptAdr1(adr1);
            row.setCiptAdr2(adr2);
            row.setCiptAdr3(adr3);
            row.setCiptAdr4(adr4);

        } catch (JboException ex) {
            ((GenericEntityImpl) row.getEntityForAttribute("CiptRunnum")).convertException(ex);
        }
    }
}

