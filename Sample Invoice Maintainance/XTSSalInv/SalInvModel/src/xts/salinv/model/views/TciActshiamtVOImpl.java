package xts.salinv.model.views;

import oracle.jbo.Row;
import oracle.jbo.RowSetIterator;

import xts.common.model.framework.GenericViewObjectImpl;

import xts.salinv.model.views.common.TciActshiamtVO;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Wed Sep 07 16:15:12 CST 2016
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class TciActshiamtVOImpl extends GenericViewObjectImpl implements TciActshiamtVO {
    /**
     * This is the default constructor (do not remove).
     */
    public TciActshiamtVOImpl() {
    }
    
    @Override
    public void insertRow(Row row) {
        row.setAttribute("CisaFnlcus", "N");
        row.setAttribute("CisaAddseq", checkMax() + 1);
        super.insertRow(row);
    }

    public int checkMax() {
        int max = 0;
        RowSetIterator rsi = this.createRowSetIterator(null);
        while (rsi.hasNext()) {
            TciActshiamtVORowImpl row = (TciActshiamtVORowImpl) rsi.next();
            if (row.getCisaAddseq() != null) {
                if (row.getCisaAddseq() > max) {
                    max = row.getCisaAddseq();
                }
            }
        }
        rsi.closeRowSetIterator();
        return max;
    }
    
    public void removeRow() {
        if (this.getCurrentRow() != null) {
            Row row = this.getCurrentRow();
            row.remove();
        }
    }
}

